@page "/lookproduct"
@using TireCompany.Data
@inject NavigationManager NavigationManager
@using MongoDB.Bson
@using MongoDB.Bson.Serialization.Attributes
@inject UserService UserService
@inject ProductService ProductService
    <head>
        <link href="css/lookproduct.css" rel="stylesheet" />
    </head>
    <Header></Header>
    <div class="product_card">
        <h1>@product.Title</h1>
        <div class="img_and_another">
            <img src="images/img_20181214_121756.jpg"/>
            <div class="another">
                <h1>@product.Price</h1>
                <p>@product.Description</p>
                <h4>Информация:</h4>
                <ul class="info">
                    <li>
                        Артикул: @product.Article
                    </li>
                    <li>
                        Тип: @Database.FindProductTypeById(product.Type).Title
                    </li>
                    <li>
                        Количество людей для производства: @product.PeopleCount
                    </li>
                    <li>
                        Номер цеха: @product.Workshop
                    </li>

                </ul>
                <h4>Материалы:</h4>
                <ul>

                    @foreach (var item in product.Materials)
                    {
                        <li>@Database.FindMaterialById(item.Material).Title @item.Count ед.</li>
                    }
                </ul>
            </div>
        </div>
       
    </div>

@code{
    Product product;
    protected override async Task OnInitializedAsync()
    {
        product = Database.FindProductById(ProductService.ProductId);
    }

}
